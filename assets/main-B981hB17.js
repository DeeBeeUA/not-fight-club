(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".registration__button"),l=document.querySelector(".change-name"),s=document.querySelector(".edit-name"),r=localStorage.getItem("playerName"),e=document.querySelector(".navigation__settings"),t=window.location.pathname,o=document.querySelector(".yourName");if(t.endsWith("/settings.html")||(r&&!t.endsWith("/home.html")?window.location.href="/not-fight-club/home.html":!r&&t!=="/not-fight-club/"&&(window.location.href="/not-fight-club/")),c&&c.addEventListener("click",()=>{const n=document.querySelector(".registration__input")?.value.trim();n?(localStorage.setItem("playerName",n),window.location.href="/not-fight-club/home.html"):alert("Пожалуйста, введите имя")}),s&&l){const i=document.createElement("button"),n=document.createElement("input");i.classList.add("save-button"),i.textContent="Save",n.placeholder="Введите имя",n.classList.add("new-name"),l.appendChild(n),l.appendChild(i),i.style.display="none",n.style.display="none",s.addEventListener("click",()=>{o.style.display="none",s.style.display="none",n.style.display="inline-block",i.style.display="inline-block"}),i.addEventListener("click",()=>{const a=n.value.trim();a&&(localStorage.setItem("playerName",a),o.textContent=a),n.value="",n.placeholder="Введите имя",i.style.display="none",n.style.display="none",o.style.display="inline-block",s.style.display="inline-block"})}o&&r&&(o.textContent=r),e&&e.addEventListener("click",()=>{window.location.href="/not-fight-club/settings.html"})});
